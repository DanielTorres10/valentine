import{r as o,V as D,j as e,K as F,h as I,aa as c}from"./three-DoDmUXEH.js";import{u as _,C as z,b as B}from"./index-DTAMNN3q.js";const L=({coordinateMapper:p,ribbonWidth:u=1,ribbonHeight:w=10,ribbonWidthSegments:h=1,ribbonHeightSegments:n=64,zScale:T=2})=>{const f=[o.useRef(null),o.useRef(null),o.useRef(null),o.useRef(null),o.useRef(null)],x=f.length,m=u*x/2,t=w/2,A=Array.from({length:x}).map((i,a)=>new D(m-u*a-u/2,0,0)),M=_(),j=z.getPalette(M),l=o.useMemo(()=>e.jsx("meshStandardMaterial",{color:j.colorsHex[Math.floor(j.nColors/2)],roughness:.25,metalness:.25,side:F,flatShading:!1}),[j]);I(({clock:i})=>{const a=i.getElapsedTime();let d,r,S,R,g,v,E;f.forEach((P,y)=>{if(!P.current)return;const C=P.current.geometry.attributes.position;for(r=0;r<=n;r++)for(E=1-Math.abs(r-n/2)/(n/2),d=0;d<=h;d++)R=(y+.5)/x,g=(r+.5)/n,S=r*(h+1)+d,v=T*p.map(B.CARTESIAN_2D,R,g,0,a),C.setZ(S,v*E);C.needsUpdate=!0})});const s=250;return e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{}),e.jsx("pointLight",{position:[2,2,5],intensity:150}),e.jsx(c,{args:[s/2,s,1,1],position:[m+s/4,0,0],castShadow:!0,receiveShadow:!0,children:l}),e.jsx(c,{args:[s/2,s,1,1],position:[-m-s/4,0,0],castShadow:!0,receiveShadow:!0,children:l}),e.jsx(c,{args:[s/4,s/2-t,1,1],position:[0,-t-(s/2-t)/2,0],castShadow:!0,receiveShadow:!0,children:l}),e.jsx(c,{args:[s/4,s/2-t,1,1],position:[0,t+(s/2-t)/2,0],castShadow:!0,receiveShadow:!0,children:l}),f.map((i,a)=>e.jsx(c,{args:[u,w,h,n],ref:i,position:A[a],castShadow:!0,receiveShadow:!0,children:l},`ribbon-plane-${a}`))]})},V=({coordinateMapper:p})=>e.jsx(e.Fragment,{children:e.jsx(L,{coordinateMapper:p})});export{V as default};
